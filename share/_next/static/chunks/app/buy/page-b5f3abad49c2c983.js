(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1542],{74262:function(e,t,n){Promise.resolve().then(n.bind(n,17292))},17292:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var a=n(57437),s=n(27648),l=n(4631),r=n(2265),i=n(57858),c=n(16605),d=n(83334),u=n(4012),o=n(39502),m=n(71282);let x=r.forwardRef(function(e,t){let{title:n,titleId:a,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7.5 7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5"}))});var b=n(52299),f=n(42464),h=n(72766),N=n(10195),A=n(80105),j=n(15420),p=()=>{let[e,t]=(0,r.useState)(),{chain:n}=(0,l.LN)(),a=(0,l.mA)(),{data:s}=(0,h.uT)({contractName:"MintStakeShareExpansion",functionName:"balanceOf",args:[null==a?void 0:a.address]});return(0,r.useEffect)(()=>{s&&t(s)},[a,s,null==n?void 0:n.id]),Number(e)>0?e:0},g=n(26786);let v=()=>{let e=(0,g.j)(e=>e.referralAddress),t=(0,h.XO)(),[n,s]=(0,r.useState)("0.1"),[v,w]=(0,r.useState)("0"),[S,y]=(0,r.useState)(!0),k=p(),{data:B}=(0,l.py)(),{data:E}=(0,h.z2)({contractName:"MintStakeShareExpansion",walletClient:B}),{data:C}=(0,h.z2)({contractName:"Swapper",walletClient:B}),I=(0,j.Z)(null==C?void 0:C.address),M=async()=>{if(Number(v)>0){let e=Number(v)>0?(0,d.f)(v):0;await (null==E?void 0:E.write.approve([null==C?void 0:C.address,BigInt(e)]))}},[F,U]=(0,r.useState)(!0),{address:Z}=(0,l.mA)(),{targetNetwork:D}=(0,N.p)(),T=D.id,V=(0,A.Z)(),X=e;(""===e||!1===(0,u.U)(e))&&(X="0x0000000000000000000000000000000000000000");let[L,O]=(0,r.useState)(BigInt(0)),{writeAsync:R}=(0,l.GG)({address:f.Z[T].Swapper.address,functionName:"buyToken",abi:f.Z[T].Swapper.abi,args:[Z,X,F]}),{writeAsync:W}=(0,l.GG)({address:f.Z[T].Swapper.address,functionName:"sellToken",abi:f.Z[T].Swapper.abi,args:[(0,d.f)(v)]}),{data:z}=(0,l.KQ)({address:Z,watch:!0}),K=(0,r.useCallback)(e=>{let t=(0,d.f)(e);Number(t)>0?null==C||C.read.estimateBuy([t]).then(e=>e?O(BigInt(1.0309*Number(e))):O(BigInt(0))):O(BigInt(0))},[null==C?void 0:C.read]),P=(0,r.useCallback)(e=>{let t=(0,d.f)(e);Number(t)>0?null==C||C.read.estimateSell([t]).then(e=>e?O(e):O(BigInt(0))):O(BigInt(0))},[null==C?void 0:C.read]);function Q(e,t){return new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:t}).format(e)}let _=async()=>{if(Number(v)>0&&W)try{await t(()=>W())}catch(e){console.error("⚡️ ~ file: WriteOnlyFunctionForm.tsx:handleWrite ~ error",e)}},G=async()=>{if(Number(n)>0&&R)try{console.log(X),await t(()=>R({value:BigInt((0,d.f)(n))}))}catch(e){console.error("⚡️ ~ file: WriteOnlyFunctionForm.tsx:handleWrite ~ error",e)}};(0,r.useEffect)(()=>{S?K(n):P(v)},[n,v,K,S,P]);let H=e=>{y(e)};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"block rounded-lg bg-base-100 text-surface shadow-secondary-1 dark:bg-surface-dark min-w-96 w-[400px]",children:[(0,a.jsx)(i.Z,{}),(0,a.jsx)("div",{className:"p-1 bg-base-200 rounded-b-lg",children:(0,a.jsx)("div",{className:"card-body items-center text-center",children:S?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("h2",{className:"card-title font-extrabold ",children:["Buy BTJ with ",null==V?void 0:V.currency]}),(0,a.jsx)("div",{className:"card-actions justify-end",children:(0,a.jsxs)("label",{className:"form-control w-full max-w-xs",children:[(0,a.jsxs)("div",{className:"label",children:[(0,a.jsx)("span",{className:"label-text-alt text-xs font-extrabold",children:null==V?void 0:V.currency}),(0,a.jsxs)("span",{className:"label-text",children:["Balance: ",(null==z?void 0:z.formatted)?Q(Number(null==z?void 0:z.formatted),4):"0"," "]})]}),(0,a.jsx)(c.r,{maxAmount:Number(null==z?void 0:z.formatted)>.003?(Number(null==z?void 0:z.formatted)-.003).toString():"0",value:n,placeholder:"Enter Amount",onChange:e=>{s(e)}})]})}),(0,a.jsx)("div",{className:"py-3",children:(0,a.jsx)("button",{className:"justify-center align-middle flex btn-outline flex-row text-xs btn btn-sm",title:"Switch to sell",onClick:()=>H(!1),children:(0,a.jsxs)("div",{className:"align-middle justify-center items-center flex",children:[(0,a.jsx)("div",{className:"align-middle justify-center font-bold text-xs ",children:"Switch"}),(0,a.jsx)(x,{className:"h-6 w-6"})]})})}),(0,a.jsx)("span",{className:"text-center items-center flex-grow",children:(0,a.jsx)("input",{type:"text",readOnly:!0,value:new Intl.NumberFormat("en-US",{maximumFractionDigits:2}).format(Number((0,m.d)(L)))+" BTJ",className:"input input-bordered input-sm w-full max-w-xs input-ghost font-semibold bg-base-200"})}),F&&Number(L)>0&&S&&(0,a.jsxs)("span",{className:"text-center items-center flex-grow font-semibold",children:["Bonus:"," ",new Intl.NumberFormat("en-US",{maximumFractionDigits:2}).format(.25*Number((0,m.d)(L)))+" BTJ",(0,a.jsx)("br",{}),"Total:"," ",new Intl.NumberFormat("en-US",{maximumFractionDigits:2}).format(1.25*Number((0,m.d)(L)))+" BTJ"]}),(0,a.jsx)("div",{className:"flex flex-row align-middle place-items-center pt-2",children:(0,a.jsx)("div",{className:F?"rounded-md p-1 bg-base-200":"rounded-md p-1 bg-base-300",children:(0,a.jsx)("div",{className:"form-control flex flex-row",children:(0,a.jsxs)("label",{className:"label cursor-pointer",children:[(0,a.jsx)("span",{className:"label-text mr-2",children:"Auto Stake?"}),(0,a.jsx)("input",{type:"checkbox",className:"toggle toggle-primary",onChange:()=>{U(!F)},checked:F})]})})})}),(0,a.jsxs)("div",{children:[Z?Number(n)>50?(0,a.jsxs)("button",{className:"btn  btn-md btn-accent btn-outline m-1",disabled:!0,onClick:G,children:["50 ",null==V?void 0:V.currency," Max"]}):Number(n)>(null!=Number(null==z?void 0:z.formatted)?Number(null==z?void 0:z.formatted):0)?(0,a.jsxs)("button",{className:"btn  btn-md btn-accent btn-outline m-1",disabled:!0,onClick:G,children:["Insufficient ",null==V?void 0:V.currency]}):(0,a.jsxs)("button",{className:"btn  btn-md btn-accent btn-outline m-1",onClick:G,children:["Swap ",F?"+ Stake":""]}):(0,a.jsx)(b.xX,{}),(0,a.jsx)("div",{children:(0,a.jsxs)("p",{children:[(null==V||V.currency,(0,a.jsx)("span",{className:"font-sm",children:"25% Bonus BTJ with auto staking"})),(0,a.jsx)("br",{})]})})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("h2",{className:"card-title font-extrabold ",children:["Sell BTJ for ",null==V?void 0:V.currency]}),(0,a.jsx)("div",{className:"card-actions justify-end",children:(0,a.jsxs)("label",{className:"form-control w-full max-w-xs",children:[(0,a.jsxs)("div",{className:"label",children:[(0,a.jsx)("span",{className:"label-text-alt text-xs font-extrabold",children:"BTJ"}),(0,a.jsxs)("span",{className:"label-text",children:["Balance: ",k&&Q(Number((0,o.b)(k,18)),2)," "]})]}),(0,a.jsx)(c.r,{maxAmount:(Math.floor(1e8*Number((0,o.b)(k,18)))/1e8).toString(),value:v,placeholder:"Enter Amount",onChange:e=>{(0,d.f)(e)>(k||0)?w((0,o.b)(k,18)):w(e)}})]})}),(0,a.jsx)("div",{className:"py-3",children:(0,a.jsx)("button",{className:"justify-center align-middle flex btn-outline flex-row text-xs btn btn-sm",title:"Switch to buy",onClick:()=>H(!0),children:(0,a.jsxs)("div",{className:"align-middle justify-center items-center flex",children:[(0,a.jsx)("div",{className:"align-middle justify-center font-bold text-xs ",children:"Switch"}),(0,a.jsx)(x,{className:"h-6 w-6"})]})})}),(0,a.jsx)("span",{className:"text-center items-center flex-grow",children:(0,a.jsx)("input",{type:"text",readOnly:!0,value:new Intl.NumberFormat("en-US",{maximumSignificantDigits:5}).format(Number((0,m.d)(L)))+" "+(null==V?void 0:V.currency),className:"input input-bordered input-sm w-full max-w-xs input-ghost font-semibold bg-base-200"})}),(0,a.jsxs)("div",{children:[Z?Number(v)>(null!=Number(k)?Number((0,o.b)(k,18)):0)?(0,a.jsx)("button",{className:"btn  btn-md btn-accent btn-outline m-1",disabled:!0,onClick:_,children:"Insufficient BTJ"}):Number(v)>Number((0,o.b)(I,18))?(0,a.jsx)("button",{className:"btn btn-md btn-accent btn-outline m-1",onClick:M,children:"Approve"}):(0,a.jsxs)("button",{className:"btn  btn-md btn-accent btn-outline m-1",onClick:_,children:["Swap for ",null==V?void 0:V.currency]}):(0,a.jsx)(b.xX,{}),(0,a.jsx)("div",{children:(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"Sell tax 9%"}),(0,a.jsx)("br",{}),(0,a.jsx)("span",{className:"text-xs",children:"3% burn and 6% to LP"})]})})]})]})})})]})})};var w=()=>{var e,t;let n=(0,l.LN)();return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"flex items-center flex-col  pt-10 pb-40",children:(0,a.jsx)("div",{className:"px-0",children:(0,a.jsx)("div",{className:" bg-base-300 text-neutral-content  sm:px-6 px-0 py-7 rounded-2xl",children:(0,a.jsxs)("div",{className:" items-center text-center",children:[(0,a.jsx)("h1",{className:"text-center pb-5",children:(0,a.jsx)("span",{className:"block text-4xl font-bold",children:"Swap / Buy BTJ"})}),(0,a.jsxs)("div",{className:"flex items-center justify-center flex-col",children:[(0,a.jsx)(v,{}),(0,a.jsx)("div",{className:"pt-5",children:(0,a.jsxs)("div",{className:"mb-1",children:[(0,a.jsx)("span",{className:"text-sm",children:"Alternatively, you can swap BTJ on "}),(0,a.jsx)(s.default,{target:"_blank",className:"underline",href:(null===(e=n.chain)||void 0===e?void 0:e.id)!=56?"https://app.uniswap.org/swap?outputCurrency=0x4b556f3a476b58be7F35DF77EdD68FbE5076F706&chain=base":"https://pancakeswap.finance/swap?outputCurrency=0xDf207EAeA61aE01cf0c61C8e5e2e7d063f2dC6e1",children:(null===(t=n.chain)||void 0===t?void 0:t.id)!=56?"Uniswap":"PancakeSwap"})]})})]})]})})})})})}},57858:function(e,t,n){"use strict";var a=n(57437);n(2265);var s=n(70845),l=n(69236),r=n(4631),i=n(80105);t.Z=()=>{let e=(0,i.Z)(),{switchNetwork:t}=(0,r.g0)();return(0,a.jsxs)("div",{className:" border-neutral-100   dark:border-white/10 align-middle grid grid-cols-2 ",children:[(0,a.jsx)("button",{className:(null==e?void 0:e.chainId)==56?"rounded-tl-lg bg-base-200":"rounded-tl-lg",onClick:()=>null==t?void 0:t(56),disabled:(null==e?void 0:e.chainId)==56,title:"Switch to BNB Chain",children:(0,a.jsx)(s.default,{})}),(0,a.jsx)("button",{className:(null==e?void 0:e.chainId)==8453?"rounded-tr-lg bg-base-200":"rounded-tr-lg",onClick:()=>null==t?void 0:t(8453),disabled:(null==e?void 0:e.chainId)==8453,title:"Switch to Base Chain",children:(0,a.jsx)(l.default,{})})]})}},70845:function(e,t,n){"use strict";var a=n(57437);n(2265);var s=n(33145),l=n(46373);t.default=()=>(0,a.jsxs)("div",{className:"flex flex-row place-items-center align-middle justify-center m-2",children:[(0,a.jsx)("div",{className:"align-middle justify-center pr-2",children:(0,a.jsx)(s.default,{height:24,width:24,alt:"BNB",src:l.Z})}),(0,a.jsx)("div",{className:"align-middle justify-center",children:(0,a.jsx)("span",{className:"text-xl font-bold",children:"BNB"})})]})},69236:function(e,t,n){"use strict";var a=n(57437);n(2265);var s=n(33145),l=n(59305);t.default=()=>(0,a.jsxs)("div",{className:"flex flex-row place-items-center align-middle justify-center m-2",children:[(0,a.jsx)("div",{className:"align-middle justify-center pr-2",children:(0,a.jsx)(s.default,{height:24,width:24,alt:"BNB",src:l.Z})}),(0,a.jsx)("div",{className:"align-middle justify-center",children:(0,a.jsx)("span",{className:"text-xl font-bold",children:"Base"})})]})},16605:function(e,t,n){"use strict";n.d(t,{r:function(){return r}});var a=n(57437),s=n(2265),l=n(52299);let r=e=>{let{value:t,onChange:n,name:r,placeholder:i,disabled:c,variant:d=l.mK.UINT256,showMax:u=!0,maxAmount:o}=e,[m,x]=(0,s.useState)(!1),b=(0,s.useCallback)(()=>{if(o)return n(o)},[n,o]);return(0,s.useEffect)(()=>{(0,l.eZ)(d,t,!1)?x(!1):x(!0)},[t,d]),(0,a.jsx)(l.MA,{name:r,value:t,placeholder:i,error:m,onChange:n,disabled:c,suffix:!m&&u&&(0,a.jsx)("div",{className:"space-x-4 flex  before:content-[attr(data-tip)] before:right-[-10px] before:left-auto before:transform-none",children:(0,a.jsx)("button",{className:"".concat(c?"cursor-not-allowed":"cursor-pointer"," font-semibold px-4 bg-accent rounded-md text-base-100"),onClick:b,disabled:c,children:"Max"})})})}},80105:function(e,t,n){"use strict";var a=n(2265),s=n(10195);t.Z=()=>{let[e,t]=(0,a.useState)(!1),[n,l]=(0,a.useState)({});(0,a.useEffect)(()=>{t(!0)},[]);let r=(0,s.p)().targetNetwork.id;return(0,a.useEffect)(()=>{97===r&&l({chainId:97,name:"BSC Testnet",currency:"ETH"}),56===r&&l({chainId:56,name:"BSC",currency:"BNB"}),8453===r&&l({chainId:8453,name:"Base",currency:"ETH"})},[r]),e&&n||null}},15420:function(e,t,n){"use strict";var a=n(2265),s=n(4631),l=n(72766);t.Z=e=>{let[t,n]=(0,a.useState)(),r=(0,s.mA)(),{data:i}=(0,l.uT)({contractName:"MintStakeShareExpansion",functionName:"allowance",args:[null==r?void 0:r.address,e]});return(0,a.useEffect)(()=>{i&&n(i)},[r,i]),Number(t)>0?t:0}},59305:function(e,t){"use strict";t.Z={src:"/_next/static/media/base.8c4e8682.png",height:1e3,width:1e3,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAG1BMVEUAVv8AUv8AU/8AUP8AUv9MaXEAVf8ATv8AUf8QyMZSAAAACXRSTlP+musurwC7MN4qQG2tAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAL0lEQVR4nEWKSQoAIBDDYjuL/3+xDIj2kkBKuiCctABkagjBmm305aV7btIhhfMAEtcAiRVS57AAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},46373:function(e,t){"use strict";t.Z={src:"/_next/static/media/bnb.5ecaf27b.png",height:300,width:300,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAKlBMVEXvtwjzuwr1vg7xuAJMaXHyykr2zlHwuw778dH10mP/wAD2zEX88tP8vQAn/r3yAAAACXRSTlMv57D0APr+r/4sVDkgAAAACXBIWXMAAAsTAAALEwEAmpwYAAAANElEQVR4nEXKsQEAIAgEseMBFdT917W0SxECuYsA6zHaQJ3nZAvfVVXbPnRzrbz6OZhmk3gwpAFdokNtZAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}}},function(e){e.O(0,[9472,7740,1541,3145,5621,2971,2117,1744],function(){return e(e.s=74262)}),_N_E=e.O()}]);